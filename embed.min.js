!function(){function a(){window.riddleAPI={init:c,update:b,riddles:[]},window.addEventListener("message",d,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",b):b()}function b(){for(var a=document.body.getElementsByClassName("riddle_target");a.length;)c(a[0])}function c(a){a.className="riddle-target-initialised";var b="data-riddle-"+riddleAPI.riddles.length;a.setAttribute(b,"");var c=a.getElementsByTagName("iframe");if(0==c.length){var d=a.getAttribute("data-url")||a.getAttribute("data-game");if(!d)return;a.innerHTML+='<iframe src="'+d+'"></iframe>'}var e=c[0].style;e.border="none",e.width="100%",e.position="absolute",e.opacity=0;var f=a.getElementsByClassName("rid-load");if(0==f.length){var g=a.getAttribute("data-fg")||"#1486cd",h=a.getAttribute("data-bg")||"#fff";a.insertAdjacentHTML("beforeend","<style>["+b+"] .rid-load {background: "+h+";}["+b+"] .rid-load i {background: "+g+';}.rid-load {border: 1px solid #cfcfcf!important;padding-top: 56%;border-radius: 5px;position: relative;}.rid-load p {position: absolute;top: 50%;left: 50%;margin: -8px}.rid-load i {position: absolute;width: 16px;height: 16px;border-radius: 3px;left: -25px;-webkit-animation: 1s infinite rid-icon;animation: 1s infinite rid-icon;-webkit-transform: scale(.4) rotate(62deg);transform: scale(.4) rotate(62deg);opacity: 0;}.rid-load i+i {-webkit-animation-delay: .17s;animation-delay: .17s;left: 0;}.rid-load i+i+i {-webkit-animation-delay: .34s;animation-delay: .34s;left: 25px;}@-webkit-keyframes rid-icon {50% {   opacity: 1;-webkit-transform: scale(1) rotate(62deg);}}@keyframes rid-icon {50% {opacity: 1;transform: scale(1) rotate(62deg);}}</style><div class="rid-load"><p><i></i><i></i><i></i></p></div>')}riddleAPI.riddles.push(a)}function d(a){if("object"==typeof a.data)for(var b=0;b<riddleAPI.riddles.length;b++){var c=riddleAPI.riddles[b],d=c.getElementsByTagName("iframe")[0];if(a.source==d.contentWindow){if(a.data.riddleHeight){var e=d.style;if(e.setProperty("height",a.data.riddleHeight+"px","important"),0==e.opacity){e.opacity=1,e.position="static";for(var f=riddleAPI.riddles[b].getElementsByClassName("rid-load");f.length>0;)f[0].parentNode.removeChild(f[0])}}a.data.riddleEvent&&window.onRiddleEvent&&window.onRiddleEvent(a.data.riddleEvent,d),"page-change"==a.data.riddleEvent&&"false"!=c.getAttribute("data-auto-scroll")&&(d.scrollIntoView(!0),window.scrollBy(0,-10))}}}window.riddleAPI?"loading"!=document.readyState&&b():a()}();
