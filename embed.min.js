!function(){function e(){for(var e=document.body.getElementsByClassName("riddle_target");e.length;)t(e[0])}function t(e){e.className="riddle-target-initialised";var t="data-riddle-"+riddleAPI.riddles.length;e.setAttribute(t,"");var i=e.getElementsByTagName("iframe");if(0==i.length){var a=e.getAttribute("data-url")||e.getAttribute("data-game");if(!a)return;e.innerHTML+='<iframe src="'+a+'"></iframe>'}var d=i[0].style;if(d.border="none",d.width="100%",d.position="absolute",d.opacity=0,0==e.getElementsByClassName("rid-load").length){var r=e.getAttribute("data-fg")||"#1486cd",n=e.getAttribute("data-bg")||"#fff";e.insertAdjacentHTML("beforeend","<style>["+t+"] .rid-load {background: "+n+";}["+t+"] .rid-load i {background: "+r+';}.rid-load {border: 1px solid #cfcfcf!important;padding-top: 56%;border-radius: 5px;position: relative;}.rid-load p {position: absolute;top: 50%;left: 50%;margin: -8px}.rid-load i {position: absolute;width: 16px;height: 16px;border-radius: 3px;left: -25px;-webkit-animation: 1s infinite rid-icon;animation: 1s infinite rid-icon;-webkit-transform: scale(.4) rotate(62deg);transform: scale(.4) rotate(62deg);opacity: 0;}.rid-load i+i {-webkit-animation-delay: .17s;animation-delay: .17s;left: 0;}.rid-load i+i+i {-webkit-animation-delay: .34s;animation-delay: .34s;left: 25px;}@-webkit-keyframes rid-icon {50% {   opacity: 1;-webkit-transform: scale(1) rotate(62deg);}}@keyframes rid-icon {50% {opacity: 1;transform: scale(1) rotate(62deg);}}</style><div class="rid-load"><p><i></i><i></i><i></i></p></div>')}riddleAPI.riddles.push(e)}window.riddleAPI?"loading"!=document.readyState&&e():(window.riddleAPI={init:t,update:e,riddles:[]},window.addEventListener("message",d,!1),"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e());var i=0;function a(){var e=document.documentElement;i=(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}function d(e){if("object"==typeof e.data)for(var t=0;t<riddleAPI.riddles.length;t++){var i=riddleAPI.riddles[t],d=i.getElementsByTagName("iframe")[0];if(e.source==d.contentWindow){if(e.data.riddleHeight){var r=d.style;if(r.setProperty("height",e.data.riddleHeight+"px","important"),0==r.opacity){r.opacity=1,r.position="static";for(var n=riddleAPI.riddles[t].getElementsByClassName("rid-load");n.length>0;)n[0].parentNode.removeChild(n[0])}void 0!=window.parent&&window.parent.postMessage({riddleHeight:e.data.riddleHeight+55,riddleId:e.data.riddleId},"*"),-1!=window.location.href.indexOf("?")&&i.getElementsByTagName("iframe")[0].contentWindow.postMessage({riddleQueryString:window.location.href.split("?")[1]},"*")}if(e.data.riddleEvent&&window.onRiddleEvent&&window.onRiddleEvent(e.data.riddleEvent,d),"page-change"==e.data.riddleEvent&&"false"!=i.getAttribute("data-auto-scroll")?(d.scrollIntoView(!0),window.scrollBy(0,-10)):"page-change"==e.data.riddleEvent&&"false"==i.getAttribute("data-auto-scroll")&&a(),e.data.riddleEvent&&"answer-poll"==e.data.riddleEvent.action&&"false"==i.getAttribute("data-auto-scroll")&&a(),void 0!=e.data.redirectToCustomLandingpagePath&&void 0!=e.data.redirectToCustomLandingpageData){var o=e.data.redirectToCustomLandingpagePath,l=e.data.redirectToCustomLandingpageData,s=window.parent.document.createElement("form");s.setAttribute("method","post"),s.setAttribute("action",o);var c=window.parent.document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name","data"),c.setAttribute("value",l),s.appendChild(c),window.parent.document.body.appendChild(s),s.submit()}}}}document.addEventListener("scroll",function(e){0!=i&&(window.scrollTo(0,i),i=0)})}();
